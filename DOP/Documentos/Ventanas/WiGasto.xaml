<syncfusion:RibbonWindow
    x:Class="DataObra.Documentos.Ventanas.WiGasto"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:DataObra.Presupuestos.Ventanas"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:sfSkinManager="clr-namespace:Syncfusion.SfSkinManager;assembly=Syncfusion.SfSkinManager.WPF"
    xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
    Title="Gasto"
    Width="1090"
    Height="800"
    sfSkinManager:SfSkinManager.VisualStyle="FluentLight"
    Office2010Icon="pack://application:,,,/Imagenes/DataObra.ico"
    TitleTextAlignment="Left"
    mc:Ignorable="d">
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="0" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="120" />
            <!--  encabezado  -->
            <RowDefinition Height="*" />
            <!--  detalle / tabla  -->
            <RowDefinition Height="35" />
            <!--  pie  -->
        </Grid.RowDefinitions>
        <Border
            x:Name="encabezado"
            Grid.Row="0"
            Grid.Column="0"
            Margin="5,5,5,5"
            BorderBrush="#FF3399FF"
            BorderThickness="3">
            <Grid x:Name="grillaEncabezado" Margin="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="60" />
                    <ColumnDefinition Width="150" />
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="150" />
                    <ColumnDefinition Width="59" />
                    <ColumnDefinition Width="100" />
                    <ColumnDefinition Width="125" />
                    <ColumnDefinition Width="116" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <!--  Columna 0  -->

                <TextBlock
                    Grid.Column="0"
                    Width="35"
                    Height="15"
                    Margin="17,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Fecha:" />

                <TextBlock
                    Grid.Row="1"
                    Width="46"
                    Height="15"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Text="Número:" />

                <TextBlock
                    Grid.Row="2"
                    Width="44"
                    Height="15"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Text="Entidad:" />

                <!--  Columna 1  -->


                <syncfusion:DateTimeEdit
                    x:Name="fechaGasto"
                    Grid.Row="0"
                    Grid.Column="1"
                    Width="120"
                    Height="25"
                    HorizontalAlignment="Left"
                    CultureInfo="es-AR"
                    DateTime="{Binding FechaDoc, Mode=TwoWay, StringFormat='{}{0:dd/MM/yyyy}', UpdateSourceTrigger=PropertyChanged}"
                    Pattern="ShortDate" />

                <TextBox
                    x:Name="txtNumero1"
                    Grid.Row="1"
                    Grid.Column="1"
                    Width="150"
                    Height="25"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    HorizontalContentAlignment="Right"
                    Text="{Binding Documento, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                <TextBox
                    Grid.Row="2"
                    Grid.Column="1"
                    Height="25"
                    VerticalAlignment="Center"
                    Text="{Binding Entidad, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                <!--  Columna 2  -->

                <TextBlock
                    Grid.Column="2"
                    Width="45"
                    Height="15"
                    Margin="47,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Importe:" />

                <TextBlock
                    Grid.Row="1"
                    Grid.Column="2"
                    Width="66"
                    Height="25"
                    Margin="26,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Descripción:" />

                <TextBlock
                    Grid.Column="4"
                    Width="46"
                    Height="25"
                    Margin="5,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Moneda:" />





                <!--  Columna 3  -->

                <TextBox
                    Grid.Column="3"
                    Width="120"
                    Height="25"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    HorizontalContentAlignment="Right"
                    Text="{Binding Importe, Mode=TwoWay, StringFormat=N2, UpdateSourceTrigger=PropertyChanged}" />


                <TextBox
                    Grid.Row="1"
                    Grid.Column="3"
                    Grid.ColumnSpan="3"
                    Width="269"
                    Height="25"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    HorizontalContentAlignment="Right"
                    Text="{Binding Descrip, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />


                <!--  Columna 4  -->
                <TextBlock
                    Grid.Column="6"
                    Width="85"
                    Height="25"
                    Margin="5,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Tipo de cambio:" />

                <syncfusion:DoubleTextBox
                    x:Name="nTipoCambio1"
                    Grid.Column="7"
                    Width="100"
                    Height="25"
                    HorizontalAlignment="Center"
                    HorizontalContentAlignment="Right"
                    Value="{Binding TipoCambioD, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />

                <syncfusion:IntegerTextBox
                    Grid.Row="1"
                    Grid.Column="7"
                    IsReadOnly="true"
                    Value="{Binding TipoID, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />



                <!--  Columna 5  -->


                <ComboBox
                    x:Name="comboMoneda"
                    Grid.Column="5"
                    Width="80"
                    Height="20"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    SelectedValue="{Binding Moneda, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                    SelectedValuePath="Tag">
                    <ComboBoxItem Tag="P">Pesos</ComboBoxItem>
                    <ComboBoxItem Tag="D">Dólares</ComboBoxItem>
                </ComboBox>

                <TextBlock
                    Grid.Row="1"
                    Grid.Column="6"
                    Width="106"
                    Height="25"
                    Margin="5,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Text="Tipo de documento:" />


            </Grid>

        </Border>

        <syncfusion:SfDataGrid
            x:Name="gridDetalle"
            Grid.Row="1"
            Margin="5,5,5,5"
            AllowEditing="True"
            AllowResizingColumns="True"
            AutoGenerateColumns="False"
            BorderBrush="#FF3399FF"
            BorderThickness="3"
            CurrentCellBeginEdit="gridDetalle_CurrentCellBeginEdit"
            CurrentCellEndEdit="gridDetalle_CurrentCellEndEdit"
            >
            <!--  menú contextual para agregar registro  -->
            <syncfusion:SfDataGrid.ContextMenu>
                <ContextMenu>
                    <MenuItem Click="AgregarRegistro_Click" Header="Agregar registro" />
                </ContextMenu>
            </syncfusion:SfDataGrid.ContextMenu>
            <syncfusion:SfDataGrid.Columns>
                <syncfusion:GridTextColumn
                    Width="80"
                    HeaderText="Tipo"
                    MappingName="TipoID" />
                <syncfusion:GridTextColumn
                    Width="200"
                    HeaderText="Descripción"
                    MappingName="Descrip" />
                <syncfusion:GridTextColumn
                    Width="80"
                    HeaderText="Unidad"
                    MappingName="Unidad" />
                <syncfusion:GridNumericColumn
                    Width="100"
                    HeaderText="Cantidad"
                    MappingName="Cantidad"
                    NumberDecimalDigits="2"
                    NumberDecimalSeparator="," />
                <syncfusion:GridNumericColumn
                    Width="100"
                    HeaderText="Factor"
                    MappingName="FactorCantidad"
                    NumberDecimalDigits="2"
                    NumberDecimalSeparator="," />
                <syncfusion:GridNumericColumn
                    Width="120"
                    HeaderText="Precio unit."
                    MappingName="PrecioUnitario" />
                <syncfusion:GridNumericColumn
                    Width="120"
                    HeaderText="Importe"
                    MappingName="Importe" />

                <syncfusion:GridNumericColumn
                    Width="100"
                    HeaderText="Pres ID"
                    MappingName="PresupuestoID"
                    NumberDecimalDigits="0" />

                <!--<syncfusion:GridTextColumn
                    Width="100"
                    HeaderText="Presupuesto"
                    MappingName="Presupuesto" />-->
                <syncfusion:GridTextColumn
                    Width="110"
                    HeaderText="Ins.ID"
                    MappingName="InsumoID" />
                <!--<syncfusion:GridTextColumn
                    Width="110"
                    HeaderText="Rubro"
                    MappingName="Rubro" />-->
                <syncfusion:GridTextColumn
                    Width="110"
                    HeaderText="Tarea ID"
                    MappingName="TareaID" />
                <!--<syncfusion:GridTextColumn
                    Width="110"
                    HeaderText="Lista de Precios"
                    MappingName="ListaDePrecios" />
                <syncfusion:GridTextColumn
                    Width="110"
                    HeaderText="Artículo"
                    MappingName="Articulo" />
                <syncfusion:GridTextColumn
                    Width="110"
                    HeaderText="Maestro"
                    MappingName="Maestro" />
                <syncfusion:GridTextColumn
                    Width="110"
                    HeaderText="Item Maestro"
                    MappingName="ConceptoMaestro" />-->
            </syncfusion:SfDataGrid.Columns>
        </syncfusion:SfDataGrid>
        <syncfusion:SfGridSplitter
            Grid.Row="0"
            Grid.RowSpan="3"
            Grid.Column="1"
            Width="5"
            HorizontalAlignment="Left"
            VerticalAlignment="Stretch"
            EnableCollapseButton="True"
            ResizeBehavior="PreviousAndNext"
            ShowsPreview="True" />
        <Border
            x:Name="grillaPresupuesto"
            Grid.RowSpan="3"
            Grid.Column="2"
            Margin="5,5,5,5"
            BorderBrush="#FF3399FF"
            BorderThickness="3" />

        <!--  Botones en la fila 2  -->
        <StackPanel
            Grid.Row="2"
            Grid.ColumnSpan="4"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Orientation="Horizontal">
            <Button
                x:Name="btnGuardar"
                Width="100"
                Height="22"
                Margin="0,0,10,0"
                Click="BtnGuardar_Click"
                Content="Guardar" />
            <Button
                x:Name="btnSalirSinGuardar"
                Width="130"
                Height="22"
                Click="BtnSalirSinGuardar_Click"
                Content="Salir sin guardar" />
        </StackPanel>

    </Grid>
</syncfusion:RibbonWindow>
